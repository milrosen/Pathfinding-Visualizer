(this["webpackJsonppathfinding-algorithms"]=this["webpackJsonppathfinding-algorithms"]||[]).push([[0],{12:function(e,l,t){e.exports=t(20)},17:function(e,l,t){},18:function(e,l,t){},19:function(e,l,t){},20:function(e,l,t){"use strict";t.r(l);var a=t(0),n=t.n(a),p=t(9),w=t.n(p),m=(t(17),t(18),t(4)),r=t(5),y=t(7),i=t(6),o=t(1),c=t(11),s=t(10);t(19);function u(e){var l=e.type,t=e.handleMouseOver,p=e.index,w=e.handleClick,m=n.a.createRef();return Object(a.useEffect)((function(){var e,l;null===(e=m.current)||void 0===e||e.addEventListener("mouseenter",(function(){return t(p)})),null===(l=m.current)||void 0===l||l.addEventListener("mousedown",(function(){return w(p)}))}),[]),n.a.createElement("div",{className:"square",ref:m},n.a.createElement("div",{className:"".concat(l," default"),id:"".concat(p)}))}for(var d=15,f=35,h=[],v=0;v<f*d;v++)h.push("empty");var g=function(e,l){return e<0||l<0||e+f*l>d*f?-1:e+f*l},b=function(e){return e>d*f?{x:-1,y:-1}:{x:e%f,y:Math.floor(e/f)}},k=function(e){var l=b(e),t=l.x,a=l.y;return-1===t||-1===a?[-1,-1,-1,-1]:[g(t-1,a),g(t+1,a)%f!==0?g(t+1,a):-1,g(t,a+1),g(t,a-1)]},E=function(e){var l=b(e),t=l.x,a=l.y;return-1===t||-1===a?[-1,-1,-1,-1]:[g(t-2,a),g(t+2,a)%f!==0?g(t+2,a):-1,g(t,a+2),g(t,a-2)]},S=function(e,l){var t=b(e),a=t.x,n=t.y,p=b(l),w=p.x,m=p.y;return Math.sqrt(Math.pow(w-a,2)+Math.pow(m-n,2))},O=function(e){Object(i.a)(t,e);var l=Object(y.a)(t);function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return Object(m.a)(this,t),(a=l.call(this,n)).default=void 0,a.default=e,a}return Object(r.a)(t,[{key:"get",value:function(e){var l=Object(c.a)(Object(o.a)(t.prototype),"get",this).call(this,e);return void 0!==l?l:this.default}}]),t}(Object(s.a)(Map)),C=function(e){Object(i.a)(t,e);var l=Object(y.a)(t);function t(){var e;Object(m.a)(this,t);for(var a=arguments.length,p=new Array(a),w=0;w<a;w++)p[w]=arguments[w];return(e=l.call.apply(l,[this].concat(p))).state={board:["wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","start","empty","empty","empty","empty","empty","empty","wall","empty","empty","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","empty","empty","wall","empty","empty","empty","empty","empty","empty","empty","wall","wall","empty","wall","wall","wall","wall","wall","empty","wall","empty","wall","wall","wall","empty","wall","empty","wall","empty","wall","wall","wall","wall","wall","empty","wall","empty","wall","empty","wall","wall","wall","wall","wall","empty","wall","wall","empty","wall","empty","empty","empty","empty","empty","wall","empty","empty","empty","wall","empty","wall","empty","wall","empty","empty","empty","empty","empty","wall","empty","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","wall","wall","empty","wall","wall","wall","wall","wall","wall","wall","wall","wall","empty","wall","wall","wall","empty","wall","wall","wall","wall","wall","empty","wall","empty","wall","wall","wall","wall","wall","empty","wall","empty","wall","empty","wall","wall","empty","wall","empty","empty","empty","empty","empty","empty","empty","empty","empty","wall","empty","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","empty","empty","wall","empty","wall","empty","wall","wall","empty","wall","empty","wall","wall","wall","wall","wall","wall","wall","wall","wall","empty","wall","empty","wall","empty","wall","wall","wall","empty","wall","wall","wall","wall","wall","wall","wall","wall","wall","empty","wall","empty","wall","wall","empty","empty","empty","wall","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","empty","empty","wall","empty","wall","wall","empty","wall","wall","wall","empty","wall","empty","wall","empty","wall","empty","wall","wall","wall","wall","wall","wall","wall","empty","wall","wall","wall","empty","wall","empty","wall","wall","wall","wall","wall","wall","wall","empty","wall","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","wall","empty","wall","wall","wall","wall","empty","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","empty","wall","empty","wall","wall","wall","empty","wall","wall","wall","wall","wall","empty","wall","wall","wall","empty","wall","empty","wall","wall","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","empty","empty","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","wall","empty","wall","empty","empty","empty","wall","empty","wall","empty","wall","wall","empty","wall","wall","wall","empty","wall","empty","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","empty","wall","wall","wall","empty","wall","empty","wall","empty","wall","empty","wall","wall","wall","empty","wall","wall","empty","empty","empty","empty","empty","empty","empty","wall","empty","empty","empty","empty","empty","empty","empty","empty","empty","empty","empty","empty","empty","empty","empty","wall","empty","empty","empty","wall","empty","empty","empty","empty","end","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall","wall"],mousedown:!1,squareTypeSelection:"start",isWorking:!1},e.grid=n.a.createRef(),e.handleMouseOver=function(l){!e.state.mousedown||e.state.squareTypeSelection.match(/start|end/)||e.state.isWorking||e.updateBoard(l,e.state.squareTypeSelection)},e.updateBoard=function(l,t){e.setState({board:e.state.board.map((function(e,a){return l===a?t:e}))})},e.updateBatch=function(l,t){e.setState({board:e.state.board.map((function(e,a){return l.includes(a)?t:e}))})},e.handleClick=function(l){e.state.isWorking||e.setState({board:e.state.board.map((function(t,a){var n=t;return"start"===e.state.squareTypeSelection&&"start"===t&&l!==a&&(n="empty"),"end"===e.state.squareTypeSelection&&"end"===t&&l!==a&&(n="empty"),"visited"!==t&&"path"!==t||(n="empty"),l===a&&(n=e.state.squareTypeSelection),n}))})},e.handleOptionChange=function(l){e.setState({squareTypeSelection:l.value})},e.reconstructPath=function(l,t){for(var a=[t];l.has(t);){var n=l.get(t);void 0!==n&&(t=n),a.push(t)}a.splice(a.indexOf(e.state.board.indexOf("start")),1),a.splice(a.indexOf(e.state.board.indexOf("end")),1),e.updateBatch(a,"path")},e.clearWalls=function(){e.state.isWorking||e.setState({board:e.state.board.map((function(){return"empty"}))})},e.startPathfind=function(l){if(!e.state.isWorking){e.setState({isWorking:!0}),e.setState({board:e.state.board.map((function(e){return"visited"===e||"path"===e?"empty":e}))});var t=e.state.board,a=t.indexOf("start"),n=t.indexOf("end");if(-1===n||-1===a)return e.setState({isWorking:!1}),void window.alert("please choose a start and end tile");var p=[];p.push(a);var w=[],m=new Map,r=new O(1/0);r.set(a,0);var y=new O(1/0);y.set(a,S(a,n)*l);var i=window.setInterval((function(){var a;if(0===p.length)return window.clearInterval(i),setTimeout((function(){window.alert("no possible path")}),500),void e.setState({isWorking:!1});var o=-1;if(p.forEach((function(e){y.get(o)>y.get(e)&&(o=e)})),o===n)return e.setState({isWorking:!1}),window.clearInterval(i),void e.reconstructPath(m,o);p.splice(p.indexOf(o),1),(null===(a=t[o])||void 0===a?void 0:a.match(/wall|start|end/))||e.updateBoard(o,"visited"),w.push(o),k(o).forEach((function(e){if("wall"!==t[e]&&-1!==e){var a=r.get(o)+1;w.includes(e)&&a>=r.get(e)||(!p.includes(e)||a<=r.get(e))&&(m.set(e,o),r.set(e,a),y.set(e,r.get(e)+S(e,n)*l),p.includes(e)||p.push(e))}}))}),50)}},e.mazeRecursiveBacktracker=function(){if(!e.state.isWorking){e.setState({isWorking:!0});for(var l=[],t=[],a=[],n=0;n<d*f;n++){var p=b(n),w=p.x;p.y%2!==0&&w%2!==0&&a.push(n)}e.setState({board:e.state.board.map((function(){return"wall"}))});var m=a[Math.floor(Math.random()*a.length)];l.push(m),t.push(m);var r=window.setInterval((function(){if(0===l.length)return e.setState({isWorking:!1}),void window.clearInterval(r);var a=l.pop();if(void 0!==a){var n=E(a);if(0===(n=n.filter((function(e){return!t.includes(e)}))).length)return window.setTimeout((function(){return e.updateBatch(k(a).filter((function(l){return"visited"===e.state.board[l]})),"empty")}),50),void e.updateBoard(a,"empty");e.updateBoard(a,"visited"),l.push(a);var p=n[Math.floor(Math.random()*n.length)],w=k(a);k(p).forEach((function(l){w.includes(l)&&window.setTimeout((function(){return e.updateBoard(l,"visited")}),50)})),l.push(p),t.push(p)}}),100)}},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("mousedown",(function(){return e.setState({mousedown:!0})})),window.addEventListener("mouseup",(function(){return e.setState({mousedown:!1})}));var l=-1;if(window.addEventListener("touchmove",(function(t){if(!e.state.squareTypeSelection.match(/start|end/)){var a=t.changedTouches[0],n=document.elementFromPoint(a.clientX,a.clientY),p=(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.children[0].id),w=parseFloat(p||"-1");w!==l&&(e.handleClick(w),l=w)}})),window.innerWidth<600){f=17,d=31;for(var t=[],a=0;a<d*f;a++)t[a]="empty";this.setState({board:t})}}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"navbar"},n.a.createElement("form",null,n.a.createElement("label",{className:"container"},"Wall",n.a.createElement("input",{type:"radio",value:"wall",checked:"wall"===this.state.squareTypeSelection,onChange:function(l){return e.handleOptionChange(l.target)}}),n.a.createElement("span",{className:"checkmark cWall"})),n.a.createElement("label",{className:"container"},"Erase",n.a.createElement("input",{type:"radio",value:"empty",checked:"empty"===this.state.squareTypeSelection,onChange:function(l){return e.handleOptionChange(l.target)}}),n.a.createElement("span",{className:"checkmark cErase"})),n.a.createElement("label",{className:"container"},"Start",n.a.createElement("input",{type:"radio",value:"start",checked:"start"===this.state.squareTypeSelection,onChange:function(l){return e.handleOptionChange(l.target)}}),n.a.createElement("span",{className:"checkmark cStart"})),n.a.createElement("label",{className:"container"},"End",n.a.createElement("input",{type:"radio",value:"end",checked:"end"===this.state.squareTypeSelection,onChange:function(l){return e.handleOptionChange(l.target)}}),n.a.createElement("span",{className:"checkmark cEnd"}))),n.a.createElement("button",{className:"btn",onClick:function(){return e.startPathfind(1)}},"Run A*"),n.a.createElement("button",{className:"btn",onClick:function(){return e.startPathfind(0)}},"Run Dijkstras"),n.a.createElement("button",{className:"btn",onClick:function(){return e.clearWalls()}},"Clear Grid"),n.a.createElement("button",{className:"btn",onClick:function(){return e.mazeRecursiveBacktracker()}},"Generate Maze")),n.a.createElement("div",{className:"grid",ref:this.grid},this.state.board.map((function(l,t){return n.a.createElement(u,{type:l,handleMouseOver:e.handleMouseOver,handleClick:e.handleClick,index:t,key:t})}))))}}]),t}(a.Component);function M(){return n.a.createElement("main",null,n.a.createElement(C,null))}w.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,null)),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.bd0a0f5b.chunk.js.map